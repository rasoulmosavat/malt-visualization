{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isEmptyObjectOrNull = isEmptyObjectOrNull;\nexports.isObject = isObject;\nexports.isString = isString;\nexports.assertObject = assertObject;\nexports.assertString = assertString;\nexports.assertNumber = assertNumber;\nexports.assertNumberOrInteger = assertNumberOrInteger;\nexports.assertValidDate = assertValidDate;\nexports.validateQueryAndParameters = validateQueryAndParameters;\nexports.ENCRYPTION_OFF = exports.ENCRYPTION_ON = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _integer = require(\"../integer\");\n/**\n * Copyright (c) 2002-2020 \"Neo4j,\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar ENCRYPTION_ON = 'ENCRYPTION_ON';\nexports.ENCRYPTION_ON = ENCRYPTION_ON;\nvar ENCRYPTION_OFF = 'ENCRYPTION_OFF';\nexports.ENCRYPTION_OFF = ENCRYPTION_OFF;\n\nfunction isEmptyObjectOrNull(obj) {\n  if (obj === null) {\n    return true;\n  }\n\n  if (!isObject(obj)) {\n    return false;\n  }\n\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isObject(obj) {\n  return (0, _typeof2[\"default\"])(obj) === 'object' && !Array.isArray(obj) && obj !== null;\n}\n/**\n * Check and normalize given query and parameters.\n * @param {string|{text: string, parameters: object}} query the query to check.\n * @param {Object} parameters\n * @return {{query: string, params: object}} the normalized query with parameters.\n * @throws TypeError when either given query or parameters are invalid.\n */\n\n\nfunction validateQueryAndParameters(query, parameters) {\n  var validatedQuery = query;\n  var params = parameters || {};\n\n  if ((0, _typeof2[\"default\"])(query) === 'object' && query.text) {\n    validatedQuery = query.text;\n    params = query.parameters || {};\n  }\n\n  assertCypherQuery(validatedQuery);\n  assertQueryParameters(params);\n  return {\n    validatedQuery: validatedQuery,\n    params: params\n  };\n}\n\nfunction assertObject(obj, objName) {\n  if (!isObject(obj)) {\n    throw new TypeError(objName + ' expected to be an object but was: ' + JSON.stringify(obj));\n  }\n\n  return obj;\n}\n\nfunction assertString(obj, objName) {\n  if (!isString(obj)) {\n    throw new TypeError(objName + ' expected to be string but was: ' + JSON.stringify(obj));\n  }\n\n  return obj;\n}\n\nfunction assertNumber(obj, objName) {\n  if (typeof obj !== 'number') {\n    throw new TypeError(objName + ' expected to be a number but was: ' + JSON.stringify(obj));\n  }\n\n  return obj;\n}\n\nfunction assertNumberOrInteger(obj, objName) {\n  if (typeof obj !== 'number' && !(0, _integer.isInt)(obj)) {\n    throw new TypeError(objName + ' expected to be either a number or an Integer object but was: ' + JSON.stringify(obj));\n  }\n\n  return obj;\n}\n\nfunction assertValidDate(obj, objName) {\n  if (Object.prototype.toString.call(obj) !== '[object Date]') {\n    throw new TypeError(objName + ' expected to be a standard JavaScript Date but was: ' + JSON.stringify(obj));\n  }\n\n  if (Number.isNaN(obj.getTime())) {\n    throw new TypeError(objName + ' expected to be valid JavaScript Date but its time was NaN: ' + JSON.stringify(obj));\n  }\n\n  return obj;\n}\n\nfunction assertCypherQuery(obj) {\n  assertString(obj, 'Cypher query');\n\n  if (obj.trim().length === 0) {\n    throw new TypeError('Cypher query is expected to be a non-empty string.');\n  }\n}\n\nfunction assertQueryParameters(obj) {\n  if (!isObject(obj)) {\n    // objects created with `Object.create(null)` do not have a constructor property\n    var _constructor = obj.constructor ? ' ' + obj.constructor.name : '';\n\n    throw new TypeError(\"Query parameters are expected to either be undefined/null or an object, given:\".concat(_constructor, \" \").concat(obj));\n  }\n}\n\nfunction isString(str) {\n  return Object.prototype.toString.call(str) === '[object String]';\n}","map":{"version":3,"sources":["d:/webback/pro5/node_modules/neo4j-driver/lib/internal/util.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","isEmptyObjectOrNull","isObject","isString","assertObject","assertString","assertNumber","assertNumberOrInteger","assertValidDate","validateQueryAndParameters","ENCRYPTION_OFF","ENCRYPTION_ON","_typeof2","_integer","obj","prop","hasOwnProperty","Array","isArray","query","parameters","validatedQuery","params","text","assertCypherQuery","assertQueryParameters","objName","TypeError","JSON","stringify","isInt","prototype","toString","call","Number","isNaN","getTime","trim","length","_constructor","constructor","name","concat","str"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isEmptyObjectOrNull = isEmptyObjectOrNull;\nexports.isObject = isObject;\nexports.isString = isString;\nexports.assertObject = assertObject;\nexports.assertString = assertString;\nexports.assertNumber = assertNumber;\nexports.assertNumberOrInteger = assertNumberOrInteger;\nexports.assertValidDate = assertValidDate;\nexports.validateQueryAndParameters = validateQueryAndParameters;\nexports.ENCRYPTION_OFF = exports.ENCRYPTION_ON = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _integer = require(\"../integer\");\n\n/**\n * Copyright (c) 2002-2020 \"Neo4j,\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar ENCRYPTION_ON = 'ENCRYPTION_ON';\nexports.ENCRYPTION_ON = ENCRYPTION_ON;\nvar ENCRYPTION_OFF = 'ENCRYPTION_OFF';\nexports.ENCRYPTION_OFF = ENCRYPTION_OFF;\n\nfunction isEmptyObjectOrNull(obj) {\n  if (obj === null) {\n    return true;\n  }\n\n  if (!isObject(obj)) {\n    return false;\n  }\n\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isObject(obj) {\n  return (0, _typeof2[\"default\"])(obj) === 'object' && !Array.isArray(obj) && obj !== null;\n}\n/**\n * Check and normalize given query and parameters.\n * @param {string|{text: string, parameters: object}} query the query to check.\n * @param {Object} parameters\n * @return {{query: string, params: object}} the normalized query with parameters.\n * @throws TypeError when either given query or parameters are invalid.\n */\n\n\nfunction validateQueryAndParameters(query, parameters) {\n  var validatedQuery = query;\n  var params = parameters || {};\n\n  if ((0, _typeof2[\"default\"])(query) === 'object' && query.text) {\n    validatedQuery = query.text;\n    params = query.parameters || {};\n  }\n\n  assertCypherQuery(validatedQuery);\n  assertQueryParameters(params);\n  return {\n    validatedQuery: validatedQuery,\n    params: params\n  };\n}\n\nfunction assertObject(obj, objName) {\n  if (!isObject(obj)) {\n    throw new TypeError(objName + ' expected to be an object but was: ' + JSON.stringify(obj));\n  }\n\n  return obj;\n}\n\nfunction assertString(obj, objName) {\n  if (!isString(obj)) {\n    throw new TypeError(objName + ' expected to be string but was: ' + JSON.stringify(obj));\n  }\n\n  return obj;\n}\n\nfunction assertNumber(obj, objName) {\n  if (typeof obj !== 'number') {\n    throw new TypeError(objName + ' expected to be a number but was: ' + JSON.stringify(obj));\n  }\n\n  return obj;\n}\n\nfunction assertNumberOrInteger(obj, objName) {\n  if (typeof obj !== 'number' && !(0, _integer.isInt)(obj)) {\n    throw new TypeError(objName + ' expected to be either a number or an Integer object but was: ' + JSON.stringify(obj));\n  }\n\n  return obj;\n}\n\nfunction assertValidDate(obj, objName) {\n  if (Object.prototype.toString.call(obj) !== '[object Date]') {\n    throw new TypeError(objName + ' expected to be a standard JavaScript Date but was: ' + JSON.stringify(obj));\n  }\n\n  if (Number.isNaN(obj.getTime())) {\n    throw new TypeError(objName + ' expected to be valid JavaScript Date but its time was NaN: ' + JSON.stringify(obj));\n  }\n\n  return obj;\n}\n\nfunction assertCypherQuery(obj) {\n  assertString(obj, 'Cypher query');\n\n  if (obj.trim().length === 0) {\n    throw new TypeError('Cypher query is expected to be a non-empty string.');\n  }\n}\n\nfunction assertQueryParameters(obj) {\n  if (!isObject(obj)) {\n    // objects created with `Object.create(null)` do not have a constructor property\n    var _constructor = obj.constructor ? ' ' + obj.constructor.name : '';\n\n    throw new TypeError(\"Query parameters are expected to either be undefined/null or an object, given:\".concat(_constructor, \" \").concat(obj));\n  }\n}\n\nfunction isString(str) {\n  return Object.prototype.toString.call(str) === '[object String]';\n}"]},"metadata":{},"sourceType":"script"}