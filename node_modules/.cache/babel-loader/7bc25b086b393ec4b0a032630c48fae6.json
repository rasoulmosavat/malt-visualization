{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _connectionProviderPooled = _interopRequireDefault(require(\"./connection-provider-pooled\"));\n\nvar _connectionDelegate = _interopRequireDefault(require(\"./connection-delegate\"));\n\nvar _connectionChannel = _interopRequireDefault(require(\"./connection-channel\"));\n\nvar _constants = require(\"./constants\");\n/**\n * Copyright (c) 2002-2020 \"Neo4j,\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar DirectConnectionProvider = /*#__PURE__*/function (_PooledConnectionProv) {\n  (0, _inherits2[\"default\"])(DirectConnectionProvider, _PooledConnectionProv);\n\n  function DirectConnectionProvider(_ref) {\n    var _this;\n\n    var id = _ref.id,\n        config = _ref.config,\n        log = _ref.log,\n        address = _ref.address,\n        userAgent = _ref.userAgent,\n        authToken = _ref.authToken;\n    (0, _classCallCheck2[\"default\"])(this, DirectConnectionProvider);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(DirectConnectionProvider).call(this, {\n      id: id,\n      config: config,\n      log: log,\n      userAgent: userAgent,\n      authToken: authToken\n    }));\n    _this._address = address;\n    return _this;\n  }\n  /**\n   * See {@link ConnectionProvider} for more information about this method and\n   * its arguments.\n   */\n\n\n  (0, _createClass2[\"default\"])(DirectConnectionProvider, [{\n    key: \"acquireConnection\",\n    value: function acquireConnection() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          accessMode = _ref2.accessMode,\n          database = _ref2.database,\n          bookmarks = _ref2.bookmarks;\n\n      return this._connectionPool.acquire(this._address).then(function (connection) {\n        return new _connectionDelegate[\"default\"](connection, null);\n      });\n    }\n  }, {\n    key: \"_hasProtocolVersion\",\n    value: function () {\n      var _hasProtocolVersion2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(versionPredicate) {\n        var connection, protocol;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                connection = _connectionChannel[\"default\"].create(this._address, this._config, this._createConnectionErrorHandler(), this._log);\n                _context.prev = 1;\n                _context.next = 4;\n                return connection._negotiateProtocol();\n\n              case 4:\n                protocol = connection.protocol();\n\n                if (!protocol) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", versionPredicate(protocol.version));\n\n              case 7:\n                return _context.abrupt(\"return\", false);\n\n              case 8:\n                _context.prev = 8;\n                _context.next = 11;\n                return connection.close();\n\n              case 11:\n                return _context.finish(8);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1,, 8, 12]]);\n      }));\n\n      function _hasProtocolVersion(_x) {\n        return _hasProtocolVersion2.apply(this, arguments);\n      }\n\n      return _hasProtocolVersion;\n    }()\n  }, {\n    key: \"supportsMultiDb\",\n    value: function () {\n      var _supportsMultiDb = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._hasProtocolVersion(function (version) {\n                  return version >= _constants.BOLT_PROTOCOL_V4;\n                });\n\n              case 2:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function supportsMultiDb() {\n        return _supportsMultiDb.apply(this, arguments);\n      }\n\n      return supportsMultiDb;\n    }()\n  }, {\n    key: \"supportsTransactionConfig\",\n    value: function () {\n      var _supportsTransactionConfig = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3() {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this._hasProtocolVersion(function (version) {\n                  return version >= _constants.BOLT_PROTOCOL_V3;\n                });\n\n              case 2:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function supportsTransactionConfig() {\n        return _supportsTransactionConfig.apply(this, arguments);\n      }\n\n      return supportsTransactionConfig;\n    }()\n  }]);\n  return DirectConnectionProvider;\n}(_connectionProviderPooled[\"default\"]);\n\nexports[\"default\"] = DirectConnectionProvider;","map":{"version":3,"sources":["d:/webback/pro5/node_modules/neo4j-driver/lib/internal/connection-provider-direct.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_regenerator","_asyncToGenerator2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_connectionProviderPooled","_connectionDelegate","_connectionChannel","_constants","DirectConnectionProvider","_PooledConnectionProv","_ref","_this","id","config","log","address","userAgent","authToken","call","_address","key","acquireConnection","_ref2","arguments","length","undefined","accessMode","database","bookmarks","_connectionPool","acquire","then","connection","_hasProtocolVersion2","mark","_callee","versionPredicate","protocol","wrap","_callee$","_context","prev","next","create","_config","_createConnectionErrorHandler","_log","_negotiateProtocol","abrupt","version","close","finish","stop","_hasProtocolVersion","_x","apply","_supportsMultiDb","_callee2","_callee2$","_context2","BOLT_PROTOCOL_V4","sent","supportsMultiDb","_supportsTransactionConfig","_callee3","_callee3$","_context3","BOLT_PROTOCOL_V3","supportsTransactionConfig"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _connectionProviderPooled = _interopRequireDefault(require(\"./connection-provider-pooled\"));\n\nvar _connectionDelegate = _interopRequireDefault(require(\"./connection-delegate\"));\n\nvar _connectionChannel = _interopRequireDefault(require(\"./connection-channel\"));\n\nvar _constants = require(\"./constants\");\n\n/**\n * Copyright (c) 2002-2020 \"Neo4j,\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DirectConnectionProvider =\n/*#__PURE__*/\nfunction (_PooledConnectionProv) {\n  (0, _inherits2[\"default\"])(DirectConnectionProvider, _PooledConnectionProv);\n\n  function DirectConnectionProvider(_ref) {\n    var _this;\n\n    var id = _ref.id,\n        config = _ref.config,\n        log = _ref.log,\n        address = _ref.address,\n        userAgent = _ref.userAgent,\n        authToken = _ref.authToken;\n    (0, _classCallCheck2[\"default\"])(this, DirectConnectionProvider);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(DirectConnectionProvider).call(this, {\n      id: id,\n      config: config,\n      log: log,\n      userAgent: userAgent,\n      authToken: authToken\n    }));\n    _this._address = address;\n    return _this;\n  }\n  /**\n   * See {@link ConnectionProvider} for more information about this method and\n   * its arguments.\n   */\n\n\n  (0, _createClass2[\"default\"])(DirectConnectionProvider, [{\n    key: \"acquireConnection\",\n    value: function acquireConnection() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          accessMode = _ref2.accessMode,\n          database = _ref2.database,\n          bookmarks = _ref2.bookmarks;\n\n      return this._connectionPool.acquire(this._address).then(function (connection) {\n        return new _connectionDelegate[\"default\"](connection, null);\n      });\n    }\n  }, {\n    key: \"_hasProtocolVersion\",\n    value: function () {\n      var _hasProtocolVersion2 = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee(versionPredicate) {\n        var connection, protocol;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                connection = _connectionChannel[\"default\"].create(this._address, this._config, this._createConnectionErrorHandler(), this._log);\n                _context.prev = 1;\n                _context.next = 4;\n                return connection._negotiateProtocol();\n\n              case 4:\n                protocol = connection.protocol();\n\n                if (!protocol) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", versionPredicate(protocol.version));\n\n              case 7:\n                return _context.abrupt(\"return\", false);\n\n              case 8:\n                _context.prev = 8;\n                _context.next = 11;\n                return connection.close();\n\n              case 11:\n                return _context.finish(8);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1,, 8, 12]]);\n      }));\n\n      function _hasProtocolVersion(_x) {\n        return _hasProtocolVersion2.apply(this, arguments);\n      }\n\n      return _hasProtocolVersion;\n    }()\n  }, {\n    key: \"supportsMultiDb\",\n    value: function () {\n      var _supportsMultiDb = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee2() {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._hasProtocolVersion(function (version) {\n                  return version >= _constants.BOLT_PROTOCOL_V4;\n                });\n\n              case 2:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function supportsMultiDb() {\n        return _supportsMultiDb.apply(this, arguments);\n      }\n\n      return supportsMultiDb;\n    }()\n  }, {\n    key: \"supportsTransactionConfig\",\n    value: function () {\n      var _supportsTransactionConfig = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee3() {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this._hasProtocolVersion(function (version) {\n                  return version >= _constants.BOLT_PROTOCOL_V3;\n                });\n\n              case 2:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function supportsTransactionConfig() {\n        return _supportsTransactionConfig.apply(this, arguments);\n      }\n\n      return supportsTransactionConfig;\n    }()\n  }]);\n  return DirectConnectionProvider;\n}(_connectionProviderPooled[\"default\"]);\n\nexports[\"default\"] = DirectConnectionProvider;"]},"metadata":{},"sourceType":"script"}